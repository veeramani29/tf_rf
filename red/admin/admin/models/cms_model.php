<?phpif (!defined('BASEPATH'))    exit('No direct script access allowed');class Cms_Model extends CI_Model {    public function __construct() {        parent::__construct();    }    public function getcms($id) {        $query = $this->db->select('*')->from('cms')->where('id', $id)->get();        if ($query->num_rows > 0) {            return $query->row();        } else {            return false;        }    }    public function updatecms($content, $type) {        $query = $this->db->select('*')->from('cms')->where('type', $type)->get();        if ($query->num_rows > 0) {            $updadata = array('content' => $content);            $this->db->where('type', $type);            $this->db->update('cms', $updadata);        } else {            $insertdata = array('type' => $type, 'content' => $content);            $this->db->insert('cms', $insertdata);        }        return;    }    public function get_banner_images() {        $this->db->select('*')                ->from('banner_images');        $query = $this->db->get();        if ($query->num_rows > 0) {            return $query->result();        }        return false;    }    public function update_status($img_id, $status) {        $data['status'] = $status;        $where = "image_id = '$img_id'";        if ($this->db->update('banner_images', $data, $where)) {            return true;        } else {            return false;        }    }    public function add_image($image_path) {        // echo 'errere'.$image_path1; exit;        $data = array(//            'image_name' => $name,            'image_path' => $image_path,            'status' => 0        );        if ($this->db->insert('banner_images', $data)) {            return true;        } else {            return false;        }    }    public function upload_insert($data) {        if (!empty($data)) {          //  $insert['promo_id'] = $data[0];            $insert['service_type'] = $data[0];            $insert['promo_name'] = $data[1];            $insert['promo_code'] = $data[2];            $insert['discount_type'] = $data[3];            $insert['discount'] = $data[4];            $expire_value = date("Y-m-d", strtotime($data[5]));            $insert['promo_expire'] = $expire_value;           // $created_value = date("Y-m-d", strtotime($data[7]));          //  $insert['created_datetime'] = $created_value;                        $insert['status'] = $data[6];             $this->db->set('created_datetime', 'NOW()', FALSE);//echo '<pre>';print_r($expire_value);print_r($expire_value);exit;            $this->db->insert('promotion_manager', $insert);            $data++;        }        return true;    }    public function delete_csv_data() {//        $this->db->select('*');//        $this->db->from('testing');//        $query=$this->db->get();//        if($query!=''){//        $this->db->truncate('testing');//        }        $this->db->truncate('promotion_manager');        return true;    }    public function get_csv_data() {        $this->db->select('*');        $this->db->from('promotion_manager');        $query = $this->db->get();        if ($query->num_rows > 0) {            return $query->result();        } else {            return false;        }    }}